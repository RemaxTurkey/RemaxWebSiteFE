import{r as ue,g as de}from"./index-xXdZhiDO.js";import{r as pe,a as he}from"./router-context.shared-runtime-DqsaadHE.js";import{r as be}from"./jsx-runtime-Bw5QeaCk.js";import{r as ve,a as me,b as ge,c as ye,d as _e,e as ke,f as Le,g as Re}from"./add-base-path-fySP9q26.js";import{r as qe}from"./use-merged-ref-C6sBtgns.js";var S={exports:{}},w={exports:{}},ne;function Pe(){return ne||(ne=1,function(O,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"useIntersection",{enumerable:!0,get:function(){return K}});const y=ue(),j=ve(),u=typeof IntersectionObserver=="function",M=new Map,q=[];function H(d){const a={root:d.root||null,margin:d.rootMargin||""},_=q.find(l=>l.root===a.root&&l.margin===a.margin);let s;if(_&&(s=M.get(_),s))return s;const h=new Map,c=new IntersectionObserver(l=>{l.forEach(p=>{const k=h.get(p.target),C=p.isIntersecting||p.intersectionRatio>0;k&&C&&k(C)})},d);return s={id:a,observer:c,elements:h},q.push(a),M.set(a,s),s}function N(d,a,_){const{id:s,observer:h,elements:c}=H(_);return c.set(d,a),h.observe(d),function(){if(c.delete(d),h.unobserve(d),c.size===0){h.disconnect(),M.delete(s);const p=q.findIndex(k=>k.root===s.root&&k.margin===s.margin);p>-1&&q.splice(p,1)}}}function K(d){let{rootRef:a,rootMargin:_,disabled:s}=d;const h=s||!u,[c,l]=(0,y.useState)(!1),p=(0,y.useRef)(null),k=(0,y.useCallback)(P=>{p.current=P},[]);(0,y.useEffect)(()=>{if(u){if(h||c)return;const P=p.current;if(P&&P.tagName)return N(P,r=>r&&l(r),{root:a==null?void 0:a.current,rootMargin:_})}else if(!c){const P=(0,j.requestIdleCallback)(()=>l(!0));return()=>(0,j.cancelIdleCallback)(P)}},[h,_,a,c,p.current]);const C=(0,y.useCallback)(()=>{l(!1)},[]);return[k,c,C]}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)}(w,w.exports)),w.exports}var A={exports:{}},oe;function Me(){return oe||(oe=1,function(O,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getDomainLocale",{enumerable:!0,get:function(){return y}}),me();function y(j,u,M,q){return!1}(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)}(A,A.exports)),A.exports}var ie;function Ce(){return ie||(ie=1,function(O,e){"use client";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return $}});const y=pe(),j=be(),u=y._(ue()),M=ge(),q=ye(),H=_e(),N=ke(),K=Le(),d=he(),a=Pe(),_=Me(),s=Re(),h=qe(),c=new Set;function l(r,m,b,i){if(!(typeof window>"u")&&(0,q.isLocalURL)(m)){if(!i.bypassPrefetchedCheck){const L=typeof i.locale<"u"?i.locale:"locale"in r?r.locale:void 0,g=m+"%"+b+"%"+L;if(c.has(g))return;c.add(g)}r.prefetch(m,b,i).catch(L=>{})}}function p(r){const b=r.currentTarget.getAttribute("target");return b&&b!=="_self"||r.metaKey||r.ctrlKey||r.shiftKey||r.altKey||r.nativeEvent&&r.nativeEvent.which===2}function k(r,m,b,i,L,g,U,V){const{nodeName:x}=r.currentTarget;if(x.toUpperCase()==="A"&&(p(r)||!(0,q.isLocalURL)(b)))return;r.preventDefault(),(()=>{const D=U??!0;"beforePopState"in m?m[L?"replace":"push"](b,i,{shallow:g,locale:V,scroll:D}):m[L?"replace":"push"](i||b,{scroll:D})})()}function C(r){return typeof r=="string"?r:(0,H.formatUrl)(r)}const $=u.default.forwardRef(function(m,b){let i;const{href:L,as:g,children:U,prefetch:V=null,passHref:x,replace:z,shallow:F,scroll:D,locale:I,onClick:G,onMouseEnter:J,onTouchStart:W,legacyBehavior:v=!1,...ae}=m;i=U,v&&(typeof i=="string"||typeof i=="number")&&(i=(0,j.jsx)("a",{children:i}));const t=u.default.useContext(d.RouterContext),Q=V!==!1,{href:R,as:f}=u.default.useMemo(()=>{if(!t){const re=C(L);return{href:re,as:g?C(g):re}}const[o,E]=(0,M.resolveHref)(t,L,!0);return{href:o,as:g?(0,M.resolveHref)(t,g):E||o}},[t,L,g]),X=u.default.useRef(R),Y=u.default.useRef(f);let n;v&&(n=u.default.Children.only(i));const ce=v?n&&typeof n=="object"&&n.ref:b,[Z,ee,te]=(0,a.useIntersection)({rootMargin:"200px"}),le=u.default.useCallback(o=>{(Y.current!==f||X.current!==R)&&(te(),Y.current=f,X.current=R),Z(o)},[f,R,te,Z]),fe=(0,h.useMergedRef)(le,ce);u.default.useEffect(()=>{t&&(!ee||!Q||l(t,R,f,{locale:I}))},[f,R,ee,I,Q,t==null?void 0:t.locale,t]);const T={ref:fe,onClick(o){!v&&typeof G=="function"&&G(o),v&&n.props&&typeof n.props.onClick=="function"&&n.props.onClick(o),t&&(o.defaultPrevented||k(o,t,R,f,z,F,D,I))},onMouseEnter(o){!v&&typeof J=="function"&&J(o),v&&n.props&&typeof n.props.onMouseEnter=="function"&&n.props.onMouseEnter(o),t&&l(t,R,f,{locale:I,priority:!0,bypassPrefetchedCheck:!0})},onTouchStart:function(E){!v&&typeof W=="function"&&W(E),v&&n.props&&typeof n.props.onTouchStart=="function"&&n.props.onTouchStart(E),t&&l(t,R,f,{locale:I,priority:!0,bypassPrefetchedCheck:!0})}};if((0,N.isAbsoluteUrl)(f))T.href=f;else if(!v||x||n.type==="a"&&!("href"in n.props)){const o=typeof I<"u"?I:t==null?void 0:t.locale,E=(t==null?void 0:t.isLocaleDomain)&&(0,_.getDomainLocale)(f,o,t==null?void 0:t.locales,t==null?void 0:t.domainLocales);T.href=E||(0,s.addBasePath)((0,K.addLocale)(f,o,t==null?void 0:t.defaultLocale))}return v?u.default.cloneElement(n,T):(0,j.jsx)("a",{...ae,...T,children:i})});(typeof e.default=="function"||typeof e.default=="object"&&e.default!==null)&&typeof e.default.__esModule>"u"&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),O.exports=e.default)}(S,S.exports)),S.exports}var B,se;function Ie(){return se||(se=1,B=Ce()),B}var je=Ie();const Se=de(je);export{Se as L};
